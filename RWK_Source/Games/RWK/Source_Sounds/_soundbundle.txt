///////////////////////////////////////////////////////////////////////////////
//
// Bundle Info
//
///////////////////////////////////////////////////////////////////////////////
//
// Export info... where to put the CPP files, where to put
// the image files, whether to export alpha seperately, and export formats.
//
EXPORTCPP=..\Source\Bundle_Sounds
EXPORTDIR=..\Resources\sounds
EXPORTFORMAT=WAV
//
// How much space you want between each sprite
//

///////////////////////////////////////////////////////////////////////////////
//
// H Template...
//
///////////////////////////////////////////////////////////////////////////////
[!TEMPLATE.H]
//
// Auto-generated by Rapt Bundler...
//
#pragma once
#include "rapt_audio.h"

class Bundle_Sounds;
extern Bundle_Sounds *gSounds;

class Bundle_Sounds
{
public:
	Bundle_Sounds() {gSounds=this;}

	void		Load(String theStatus);
	void		Stop();
	void		SetVolume(float theVolume=1.0f);
	
	List		mSoundList;

public:
[!SCRIPT]
[!FOREACHSOUND]
	Sound				m[!SOUNDVARIABLENAME];
[!FOREACHSOUND END]
[!BR]
[!FOREACHSOUNDSTREAM]
	SoundStream			mStream_[!SOUNDSTREAMVARIABLENAME];
[!FOREACHSOUNDSTREAM END]
[!BR]
[!FOREACHUNIQUESOUNDLOOP]
	SoundLoop			mLoop_[!SOUNDLOOPVARIABLENAME];
[!FOREACHUNIQUESOUNDLOOP END]
[!FOREACHREFERENCEDSOUNDLOOP]
	SoundLoop			mLoop_[!SOUNDLOOPVARIABLENAME];
[!FOREACHREFERENCEDSOUNDLOOP END]
[!BR]
[!FOREACHSOUNDDIR]
	Sound				m[!SOUNDDIRVARIABLENAME][[!SOUNDDIRCOUNT]];
[!FOREACHSOUNDDIR END]
[!SCRIPT END]
};

enum
{
[!SCRIPT]
[!FOREACHSOUND]
	SOUNDINDEX_[!SOUNDVARIABLENAME_CAPS],
[!FOREACHSOUND END]
[!SCRIPT END]
	SOUND_MAX
};


[!TEMPLATE.H END]

///////////////////////////////////////////////////////////////////////////////
//
// CPP Template...
//
///////////////////////////////////////////////////////////////////////////////
[!TEMPLATE.CPP]
//
// Auto-generated by Rapt Bundler...
//
#include "Bundle_Sounds.h"
#include "MyApp.h"

Bundle_Sounds *gSounds=NULL;
void Bundle_Sounds::Load(String theStatus)
{
[!SCRIPT]
[!FOREACHSOUND]
	gAppPtr->mLoader->Add(&m[!SOUNDVARIABLENAME],"sounds://[!SOUNDNAME]")->AddDesc(theStatus);mSoundList+=&m[!SOUNDVARIABLENAME];
[!FOREACHSOUND END]
[!BR]
[!FOREACHSOUNDSTREAM]
	gAppPtr->mLoader->Add(&mStream_[!SOUNDSTREAMVARIABLENAME],"sounds://[!SOUNDSTREAMNAME]")->AddDesc(theStatus);
[!FOREACHSOUNDSTREAM END]
[!BR]
[!FOREACHUNIQUESOUNDLOOP]
	gAppPtr->mLoader->Add(&mLoop_[!SOUNDLOOPVARIABLENAME],"sounds://[!SOUNDLOOPNAME]")->AddDesc(theStatus);mSoundList+=&mLoop_[!SOUNDLOOPVARIABLENAME].mSound;
[!FOREACHUNIQUESOUNDLOOP END]
[!FOREACHREFERENCEDSOUNDLOOP]
	gAppPtr->mLoader->Add(mLoop_[!SOUNDLOOPVARIABLENAME].Load(&m[!SOUNDLOOPREFERENCE]))->AddDesc(theStatus);
[!FOREACHREFERENCEDSOUNDLOOP END]
[!BR]
[!FOREACHSOUNDDIR]
[!FOREACHSOUNDDIRSOUND]
	gAppPtr->mLoader->Add(&m[!SOUNDDIRVARIABLENAME][[!SOUNDDIRCOUNTER]],"sounds://[!SOUNDDIRNAME]/[!SOUNDDIRSOUNDNAME]")->AddDesc(theStatus);mSoundList+=&m[!SOUNDDIRVARIABLENAME][[!SOUNDDIRCOUNTER]];
[!FOREACHSOUNDDIRSOUND END]
[!BR]
[!FOREACHSOUNDDIR END]
}
[!BR]
void Bundle_Sounds::Stop()
{
	EnumList(Sound,aSound,mSoundList) aSound->Stop();
[!FOREACHSOUNDSTREAM]
	mStream_[!SOUNDSTREAMVARIABLENAME].Stop();
[!FOREACHSOUNDSTREAM END]
	
[!BR]
}

void Bundle_Sounds::SetVolume(float theValue)
{
	EnumList(Sound,aS,mSoundList) aS->SetClipVolume(theValue);
}

/*
[!FOREACHSOUND]
	m[!SOUNDVARIABLENAME].Stop();
[!FOREACHSOUND END]
[!BR]
[!FOREACHSOUNDSTREAM]
	mStream_[!SOUNDSTREAMVARIABLENAME].Stop();
[!FOREACHSOUNDSTREAM END]
[!BR]
[!FOREACHUNIQUESOUNDLOOP]
	mLoop_[!SOUNDLOOPVARIABLENAME].Stop();
[!FOREACHUNIQUESOUNDLOOP END]
[!BR]
[!FOREACHSOUNDDIR]
[!FOREACHSOUNDDIRSOUND]
	m[!SOUNDDIRVARIABLENAME][[!SOUNDDIRCOUNTER]].Stop();
[!FOREACHSOUNDDIRSOUND END]
[!BR]
[!FOREACHSOUNDDIR END]
*/

[!SCRIPT END]

[!TEMPLATE.CPP END]
